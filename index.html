<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

</head>
<body>

    <h1>My Mini App</h1>

    <div id="data-display">
    </div>

    <br>

    <button id="send-button">Send Data to Bot</button>
    
<script>
window.onload = function() {
    const tg = window.Telegram?.WebApp;
    if (!tg) {
        alert("Open this inside Telegram!");
        return;
    }
    tg.ready();

    const displayDiv = document.getElementById('data-display');

    const urlParams = new URLSearchParams(window.location.search);
    const firstName = urlParams.get('q');
    const firstName2 = urlParams.get('a');

    displayDiv.innerHTML = `
        First Name: ${firstName}
        Second Name: ${firstName2}
    `;

    const sendButton = document.getElementById('send-button');
    sendButton.addEventListener('click', function() {
        const dataToSend = { message: "Hello from Web App!", status: "ok" };
        tg.sendData(JSON.stringify(dataToSend));
    });
};
</script>


</body>
</html>